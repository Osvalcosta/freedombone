<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2016-03-22 Tue 20:01 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title></title>
<meta name="generator" content="Org-mode" />
<meta name="author" content="Bob Mottram" />
<meta name="description" content="Turn the Beaglebone Black into a personal communications server"
 />
<meta name="keywords" content="freedombox, debian, beaglebone, hubzilla, email, web server, home server, internet, censorship, surveillance, social network, irc, jabber" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="solarized-light.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="preamble" class="status">
<a name="top" id="top"></a>
</div>
<div id="content">
<div class="org-center">

<div class="figure">
<p><img src="images/logo.png" alt="logo.png" />
</p>
</div>
</div>

<center>
<h1>Usage</h1>
</center>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><a href="#orgheadline1">Readme</a></td>
</tr>

<tr>
<td class="org-left"><a href="#orgheadline2">Improving ssh security</a></td>
</tr>

<tr>
<td class="org-left"><a href="#orgheadline3">Administrating the system via an onion address (Tor)</a></td>
</tr>

<tr>
<td class="org-left"><a href="./usage_email.html">Using Email</a></td>
</tr>

<tr>
<td class="org-left"><a href="#orgheadline4">Syncing to the Cloud</a></td>
</tr>

<tr>
<td class="org-left"><a href="#orgheadline5">Play Music</a></td>
</tr>

<tr>
<td class="org-left"><a href="#orgheadline6">Microblogging (GNU Social)</a></td>
</tr>

<tr>
<td class="org-left"><a href="#orgheadline7">Social Network</a></td>
</tr>

<tr>
<td class="org-left"><a href="#orgheadline8">Chat Services</a></td>
</tr>

<tr>
<td class="org-left"><a href="#orgheadline9">RSS Reader</a></td>
</tr>

<tr>
<td class="org-left"><a href="#orgheadline10">Adding or removing users</a></td>
</tr>
</tbody>
</table>

<div id="outline-container-orgheadline1" class="outline-2">
<h2 id="orgheadline1">Readme</h2>
<div class="outline-text-2" id="text-orgheadline1">
<p>
After the system has installed a README file will be generated which contains passwords and some brief advice on using the installed systems. You can read this with the following commands:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domainname -p 2222
emacs ~/README
</pre>
</div>

<p>
You should transfer any passwords to a password manager such as <a href="http://www.keepassx.org/">KeepassX</a> and then delete them from the README file. To save the file after removing passwords use <b>CTRL-x CTRL-s</b>.
</p>

<p>
To exit you can either just close the terminal or use <b>CTRL-x CTRL-c</b> followed by the <b>exit</b> command.
</p>
</div>
</div>
<div id="outline-container-orgheadline2" class="outline-2">
<h2 id="orgheadline2">Improving ssh security</h2>
<div class="outline-text-2" id="text-orgheadline2">
<p>
To improve ssh security you can generate an ssh key pair on your system and then upload the public key to the Freedombone.
</p>

<p>
On your local machine:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh-keygen
</pre>
</div>

<p>
For extra security you may also want to add a passphrase to the ssh private key. You can show the generated public key with:
</p>

<div class="org-src-container">

<pre class="src src-bash">cat ~/.ssh/id_rsa.pub
</pre>
</div>

<p>
Log into your system and open the control panel.
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domain -p 2222
sudo control
</pre>
</div>

<p>
Select <i>Manage Users</i> then <i>Change user ssh public key</i>. Copy and paste the public key here, then exit.
</p>

<p>
It's a good idea to also copy the contents of <b>~/.ssh/id_rsa</b> and <b>~/.ssh/id_rsa.pub</b> to you password manager, together with the private key password if you created one.
</p>

<p>
There are advantages and disadvantages to using ssh keys for logins. The advantage is that this is much more secure than a memorised password, but the disadvantage is that you need to carry your ssh keys around and be able to install them on any computer of mobile device that you use. In high security or hostile infosec environments it may not be possible to carry or use USB thumb drives containing your keys and so memorised passwords may be the only available choice.
</p>

<p>
If you wish to only use ssh keys then log in to the Freedombone, become the root user and open the control panel with the 'control' command. Select <i>Security Settings</i> then keep hitting enter until you reach the question about allowing password logins. Select "no" for that, then apply the settings. Any subsequent attempts to log in via a password will then be denied.
</p>
</div>
</div>

<div id="outline-container-orgheadline3" class="outline-2">
<h2 id="orgheadline3">Administrating the system via an onion address (Tor)</h2>
<div class="outline-text-2" id="text-orgheadline3">
<p>
You can also access your system via the Tor system using an onion address. To find out what the onion address for ssh access is you can do the following:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@freedombone.local -p 2222
sudo control
</pre>
</div>

<p>
Then select "About this system" and look for the onion address for ssh. You can then close the terminal and open another, then do the following:
</p>

<div class="org-src-container">

<pre class="src src-bash">sudo apt-get install tor connect-proxy
<span class="org-builtin">echo</span> <span class="org-string">'Host *.onion'</span> &gt;&gt; ~/.ssh/config
<span class="org-builtin">echo</span> <span class="org-string">'ProxyCommand connect -R remote -5 -S 127.0.0.1:9050 %h %p'</span> &gt;&gt; ~/.ssh/config
ssh username@address.onion -p 2222
</pre>
</div>

<p>
Subsequently even if dynamic DNS isn't working you may still be able to administer your system. Using the onion address also gives you some degree of protection against corporate or government metadata analysis, since it becomes more difficult to passively detect which systems are communicating.
</p>
</div>
</div>
<div id="outline-container-orgheadline4" class="outline-2">
<h2 id="orgheadline4">Syncing to the Cloud</h2>
<div class="outline-text-2" id="text-orgheadline4">
<p>
Owncloud provides an easy way to sync files across multiple systems (desktop, laptop and mobile), and is a good way to wean people off of the proprietary systems such as <a href="http://www.drop-dropbox.com/">Dropbox</a>. Unlike "<i>the cloud</i>" which computing industry pundits often go on about, this is a cloud <i>which you control</i> and where your data resides within your own home.
</p>

<p>
Via additional apps with a single click install process it can also do many other things, such as acting as a jukebox or a collaborative document editing system. Owncloud servers can <a href="https://www.youtube.com/watch?v=b1F-N3QXN2s">federate together</a> to make it easy for independent installs to share files.
</p>
</div>

<div id="outline-container-orgheadline11" class="outline-3">
<h3 id="orgheadline11">Initial install</h3>
<div class="outline-text-3" id="text-orgheadline11">
<p>
On first visiting your owncloud domain it will ask for an password, then select <b>Finish</b>. The password can be anything, but it's a good idea to follow the usual guidelines of using a random password generated by a password manager. If you see a timeout error then just wait and try reloading the page a few minutes later. It can take a while for the database to be created and for any files in the data folder to be indexed.
</p>

<p>
You may wish to add extra apps, such as calendar, music and document editing.
</p>
</div>
</div>
<div id="outline-container-orgheadline12" class="outline-3">
<h3 id="orgheadline12">On Android</h3>
<div class="outline-text-3" id="text-orgheadline12">
<p>
Within F-droid search for <b>owncloud</b> and install the client. Also install <b>CalDAV Sync Adapter</b>.
</p>

<p>
Open the owncloud app and enter your owncloud domain name (including the https prefix) and login details for the user you created.
</p>

<p>
Open the calendar app (S planner) and under <b>settings</b> select <b>Calendars</b> then <b>Add account</b> then <b>CalDAV Sync Adapter</b>. Enter your owncloud username and password and the following URL:
</p>

<div class="org-src-container">

<pre class="src src-bash">https://myownclouddomain/remote.php/caldav/principals/myowncloudusername
</pre>
</div>

<p>
You will also be prompted to enter login details. Your Android and Owncloud calendars should now be synchronised.
</p>
</div>
</div>
<div id="outline-container-orgheadline13" class="outline-3">
<h3 id="orgheadline13">On Linux</h3>
<div class="outline-text-3" id="text-orgheadline13">
<p>
It's best to use an <a href="https://owncloud.com/products/desktop-clients/">officially supported client</a> from the Owncloud site, rather than one which may be packaged by your distro. It's more lilkely that the official client will be up to date. <a href="https://software.opensuse.org/download/package?project=isv:ownCloud:desktop&amp;package=owncloud-client">Packages are available</a> for Debian and other distros.
</p>

<p>
Once the client is installed then open it and log in. After sychronisation you can then drag and drop files into <b>ownCloud</b> in your home directory.
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline5" class="outline-2">
<h2 id="orgheadline5">Play Music</h2>
<div class="outline-text-2" id="text-orgheadline5">
</div><div id="outline-container-orgheadline14" class="outline-3">
<h3 id="orgheadline14">With the DLNA service</h3>
<div class="outline-text-3" id="text-orgheadline14">
<p>
An easy way to play music on any mobile device in your home is to use the DLNA service. Copy your music into a directory called "<i>Music</i>" on a USB thumb drive and then insert it into from socket on the Beaglebone.
</p>

<p>
ssh into the system with:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh myusername@mydomain.com -p 2222
</pre>
</div>

<p>
Then mount the USB drive with:
</p>

<div class="org-src-container">

<pre class="src src-bash">su
attach-music
</pre>
</div>

<p>
The system will scan the Music directory, which could take a while if there are thousands of files, but you don't need to do anything further with the Beaglebone other than perhaps to log out by typing <b>exit</b> a couple of times.
</p>

<p>
If you have an Android device then go to F-Droid (if you don't already have it installed then it can be <a href="https://f-droid.org/">downloaded here</a>) and search for <b>ControlDLNA</b>. On running the app you should see a red Debian icon which you can press on, then you may need to select "local". After a few seconds the list of albums or tracks should then appear and you can browse and play them.
</p>

<p>
The DLNA service will only work within your local home network, and isn't remotely accessible from other locations via the internet. That can be both a good and a bad thing. Another consideration is that there are no access controls on DLNA services, so any music or videos on the USB drive will be playable by anyone within your home network. If you need to restrict access to certain files then it may be better to use the music player within Owncloud.
</p>
</div>
</div>

<div id="outline-container-orgheadline15" class="outline-3">
<h3 id="orgheadline15">With Owncloud</h3>
<div class="outline-text-3" id="text-orgheadline15">
<p>
The main advantage of playing music via Owncloud is that you can do that from anywhere - not only within your home network.
</p>

<p>
By default a music player is installed into Owncloud, so all you need to do is to visit your Owncloud web site, select the <b>music</b> directory and then upload some music files. Afterwards you can select the <b>music icon</b> from the top left drop down menu and albums will then appear which can be played. If you want to share music with other users then you can select the <b>share</b> option from within the files view to make the tracks available.
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline6" class="outline-2">
<h2 id="orgheadline6">Microblogging (GNU Social)</h2>
<div class="outline-text-2" id="text-orgheadline6">
</div><div id="outline-container-orgheadline16" class="outline-3">
<h3 id="orgheadline16">Initial configuration</h3>
<div class="outline-text-3" id="text-orgheadline16">
<p>
To log into your GNU Social site first obtain your username and password from the "microblogging" section of the readme file.
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domainname -p 2222
cat README
<span class="org-keyword">exit</span>
</pre>
</div>

<p>
Navigate to your site and log in. You may then want to select <b>Admin</b> and check or change the details. You may also wish to change the license for the site to be either Creative Commons or private.
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline7" class="outline-2">
<h2 id="orgheadline7">Social Network</h2>
<div class="outline-text-2" id="text-orgheadline7">
</div><div id="outline-container-orgheadline17" class="outline-3">
<h3 id="orgheadline17">Domains</h3>
<div class="outline-text-3" id="text-orgheadline17">
<p>
Both Hubzilla and GNU Social try to obtain certificates automatically at the time of installation via Let's Encrypt. This will likely mean that in order for this to work you'll need to have obtained at least one "official" domain via a domain selling service, since Let's Encrypt mostly doesn't seem to work with free subdomains from sites such as freeDNS.
</p>
</div>
</div>
<div id="outline-container-orgheadline18" class="outline-3">
<h3 id="orgheadline18">Initial install</h3>
<div class="outline-text-3" id="text-orgheadline18">
<p>
On first visiting your Hubzilla site you'll see the login screen. The first thing you need to do is <b>register</b> a new user. The first user on the system then becomes its administrator.
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline8" class="outline-2">
<h2 id="orgheadline8">Chat Services</h2>
<div class="outline-text-2" id="text-orgheadline8">
</div><div id="outline-container-orgheadline19" class="outline-3">
<h3 id="orgheadline19">IRC</h3>
<div class="outline-text-3" id="text-orgheadline19">
<p>
IRC is useful for multi-user chat. The classic use case is for software development where many engineers might need to coordinate their activities, but it's also useful for meetings, parties and general socialising.
</p>
</div>
<div id="outline-container-orgheadline20" class="outline-4">
<h4 id="orgheadline20">Irssi</h4>
<div class="outline-text-4" id="text-orgheadline20">
<p>
The easiest way to use irssi is to connect to your system, like this:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh myusername@mydomain -p 2222
</pre>
</div>

<p>
Then select <b>IRC</b> from the menu. Irssi is automatically set up to connect to your server and route its messages through the Tor network. Some popular systems such as <b>Freenode</b> reject connections coming from Tor (as a very crude attempt to stop trolls) and so if you want to use those you can exit to the command line from the menu and then just type "irssi" to use the system without Tor.
</p>
</div>
</div>
<div id="outline-container-orgheadline21" class="outline-4">
<h4 id="orgheadline21">XChat</h4>
<div class="outline-text-4" id="text-orgheadline21">
<p>
If you are using the XChat client:
</p>

<p>
Within the network list click, <b>Add</b> and enter your domain name then click <b>Edit</b>.
</p>

<p>
Select the entry within the servers box, then enter <b>mydomainname/6697</b> and press <b>Enter</b>.
</p>

<p>
Uncheck <b>use global user information</b>.
</p>

<p>
Enter first and second nicknames and check <b>auto connect to this network on startup</b>.
</p>

<p>
Check <b>use SSL</b> and <b>accept invalid SSL certificate</b>.
</p>

<p>
Enter <b>#freedombone</b> as the channel name.
</p>

<p>
Click <b>close</b> and then <b>connect</b>.
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline27" class="outline-3">
<h3 id="orgheadline27">XMPP/Jabber</h3>
<div class="outline-text-3" id="text-orgheadline27">
</div><div id="outline-container-orgheadline22" class="outline-4">
<h4 id="orgheadline22">Using with Profanity</h4>
<div class="outline-text-4" id="text-orgheadline22">
<p>
The <a href="http://profanity.im/">Profanity</a> shell based user interface and is perhaps the simplest way to use XMPP from a laptop.
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domain -p 2222
</pre>
</div>

<p>
Then select XMPP. Generate an <a href="https://en.wikipedia.org/wiki/Off-the-Record_Messaging">OTR</a> key with:
</p>

<div class="org-src-container">

<pre class="src src-bash">/otr gen
</pre>
</div>

<p>
Then to start a conversation using OTR:
</p>

<div class="org-src-container">

<pre class="src src-bash">/otr start otherusername@otheruserdomain
</pre>
</div>

<p>
or if you're already in an insecure chat with someone just use:
</p>

<div class="org-src-container">

<pre class="src src-bash">/otr start
</pre>
</div>

<p>
Set a security question and answer:
</p>

<div class="org-src-container">

<pre class="src src-bash">/otr question <span class="org-string">"What is the name of your best friends rabbit?"</span> fiffi
</pre>
</div>

<p>
On the other side the user can enter:
</p>

<div class="org-src-container">

<pre class="src src-bash">/otr answer fiffi
</pre>
</div>

<p>
For the most paranoid you can also obtain your fingerprint:
</p>

<div class="org-src-container">

<pre class="src src-bash">/otr myfp
</pre>
</div>

<p>
and quote that.  If they quote theirs back you can check it with:
</p>

<div class="org-src-container">

<pre class="src src-bash">/otr theirfp
</pre>
</div>

<p>
If the fingerprints match then you can be pretty confident that unless you have been socially engineered via the question and answer you probably are talking to who you think you are, and that it will be difficult for mass surveillance systems to know the content of the conversation. For more details see <a href="http://www.profanity.im/otr.html">this guide</a>.
</p>

<p>
When accessed via the user control panel the client is automatically routed through Tor and so if you are also using OTR then this provides protection for both message content and metadata.
</p>
</div>
</div>
<div id="outline-container-orgheadline23" class="outline-4">
<h4 id="orgheadline23">Using with Jitsi</h4>
<div class="outline-text-4" id="text-orgheadline23">
<p>
Jitsi is the recommended communications client for desktop or laptop systems, since it includes the <i>off the record</i> (OTR) feature which provides some additional security beyond the usual SSL certificates.
</p>

<p>
Jitsi can be downloaded from <a href="https://jitsi.org/">https://jitsi.org/</a>
</p>

<p>
On your desktop/laptop open Jitsi and select <b>Options</b> from the <b>Tools</b> menu.
</p>

<p>
Click <b>Add</b> to add a new user, then enter the Jabber ID which you previously specified with <i>prosodyctl</i> when setting up the XMPP server. Close and then you should notice that your status is "Online" (or if not then you should be able to set it to online).
</p>

<p>
From the <b>File</b> menu you can add contacts, then select the chat icon to begin a chat.  Click on the lock icon on the right hand side and this will initiate an authentication procedure in which you can specify a question and answer to verify the identity of the person you're communicating with.  Once authentication is complete then you'll be chating using OTR, which provides an additional layer of security.
</p>

<p>
When opening Jitsi initially you will get a certificate warning for your domain name (assuming that you're using a self-signed certificate). If this happens then select <b>View Certificate</b> and enable the checkbox to trust the certificate, then select <b>Continue Anyway</b>.  Once you've done this then the certificate warning will not appear again unless you reinstall Jitsi or use a different computer.
</p>

<p>
You can also <a href="https://www.youtube.com/watch?v=vgx7VSrDGjk">see this video</a> as an example of using OTR.
</p>
</div>
</div>
<div id="outline-container-orgheadline24" class="outline-4">
<h4 id="orgheadline24">Using with Ubuntu</h4>
<div class="outline-text-4" id="text-orgheadline24">
<p>
The default XMPP client in Ubuntu is Empathy.  Using Empathy isn't as secure as using Jitsi, since it doesn't include the <i>off the record</i> feature, but since it's the default it's what many users will have easy access to.
</p>

<p>
Open <b>System Settings</b> and select <b>Online Accounts</b>, <b>Add account</b>  and then <b>Jabber</b>.
</p>

<p>
Enter your username (username@domainname) and password.
</p>

<p>
Click on <b>Advanced</b> and make sure that <b>Encryption required</b> and <b>Ignore SSL certificate errors</b> are checked.  Ignoring the certificate errors will allow you to use the self-signed certificate created earlier.  Then click <b>Done</b> and set your Jabber account and Empathy to <b>On</b>.
</p>
</div>
</div>
<div id="outline-container-orgheadline25" class="outline-4">
<h4 id="orgheadline25">Using Tor Messenger</h4>
<div class="outline-text-4" id="text-orgheadline25">
<p>
Tor Messenger is a messaging client which supports XMPP, and its onion routing enables you to protect the metadata of chat interactions to some extent by making it difficult for an adversary to know which server is talking to which. You can download Tor Messenger from <a href="https://torproject.org/">torproject.org</a> and the setup is pretty simple.
</p>
</div>
</div>
<div id="outline-container-orgheadline26" class="outline-4">
<h4 id="orgheadline26">Using with Android</h4>
<div class="outline-text-4" id="text-orgheadline26">
<p>
Install <a href="https://f-droid.org/">F-Droid</a>
</p>

<p>
Search for and install <b>Orbot</b> and <b>Conversations</b>.
</p>

<p>
Add an account and enter your Jabber/XMPP ID and password.
</p>

<p>
From the menu select <b>Settings</b> then <b>Expert Settings</b>. Select <b>Connect via Tor</b> and depending on your situation you might also want to select <b>Don't save encrypted messages</b>.
</p>

<p>
From the menu select <b>Manage accounts</b> and add a new account.
</p>

<div class="org-src-container">

<pre class="src src-bash">Jabber ID: myusername@mydomain
Password:  your XMPP password
Hostname:  mydomain
Port:      5222
</pre>
</div>

<p>
Then select <b>Next</b>. When chatting you can use the lock icon to encrypt your conversation. It's also going through Tor, so passive surveillance of the metadata should not be easy for an adversary.
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline28" class="outline-3">
<h3 id="orgheadline28">Tox</h3>
<div class="outline-text-3" id="text-orgheadline28">
<p>
Tox is an encrypted peer-to-peer messaging system and so should work without Freedombone. It uses a system of nodes which act as a sort of directory service allowing users to find and connect to each other. The Tox node ID on the Freedombone can be found within the README within your home directory. If you have other users connect to your node then you will be able to continue chatting even when no other nodes are available.
</p>
</div>
<div id="outline-container-orgheadline29" class="outline-4">
<h4 id="orgheadline29">Using the Toxic client</h4>
<div class="outline-text-4" id="text-orgheadline29">
<p>
Log into your system with:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh myusername@mydomain -p 2222
</pre>
</div>

<p>
Then from the menu select <b>Tox Chat</b>. Tox is encrypted by default and also router through Tor, so it should be reasonably secure both in terms of message content and metadata.
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline32" class="outline-3">
<h3 id="orgheadline32">VoIP (Voice chat)</h3>
<div class="outline-text-3" id="text-orgheadline32">
</div><div id="outline-container-orgheadline30" class="outline-4">
<h4 id="orgheadline30">Using with Ubuntu</h4>
<div class="outline-text-4" id="text-orgheadline30">
<p>
Within the software center search for "mumble" and install the client then run it. Skip through the audio setup wizard.
</p>

<p>
Click on "add new" to add a new server and enter the default domain name for the Freedombone, your username (which can be anything) and the VoIP server password which can be found in the README file on the Freedombone. Accept the self-signed SSL certificate. You are now ready to chat.
</p>

<p>
<i>Note: if you don't know the default domain name and you did a full installation then it will be the same as the wiki domain name.</i>
</p>
</div>
</div>
<div id="outline-container-orgheadline31" class="outline-4">
<h4 id="orgheadline31">Using with Android</h4>
<div class="outline-text-4" id="text-orgheadline31">
<p>
Install <a href="https://f-droid.org/">F-Droid</a>
</p>

<p>
Search for and install Plumble.
</p>

<p>
Press the plus button to add a Mumble server.
</p>

<p>
Enter a label (which can be any name you choose for the server), the default domain name of the Freedombone, your username (which can also be anything) and the VoIP server password which can be found in the README file on the Freedombone.
</p>

<p>
Selecting the server by pressing on it then connects you to the server so that you can chat with other connected users.
</p>

<p>
<i>Note: if you don't know the default domain name and you did a full installation then it will be the same as the wiki domain name.</i>
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline33" class="outline-3">
<h3 id="orgheadline33">SIP phones</h3>
<div class="outline-text-3" id="text-orgheadline33">
<p>
Freedombone also supports SIP phones The username and domain is the same as for your email address, and the SIP password and extension number will appear within the README file in your home directory. Various SIP client options are available, such as CSipSimple on Android and Jitsi on desktop or laptop machines. Ideally use clients which support ZRTP, which will provide the best level of security.
</p>
</div>
<div id="outline-container-orgheadline34" class="outline-4">
<h4 id="orgheadline34">About ZRTP</h4>
<div class="outline-text-4" id="text-orgheadline34">
<p>
<a href="https://jitsi.org/Documentation/ZrtpFAQ">ZRTP</a> appears to be the current best standard to end-to-end encrypted voice calls, combining good security with simplicity of use. When the initial cryptographic negotiation between phones is done at the start of a call a short authentication string (SAS) is calculated and displayed at both ends. To check that there isn't anyone intercepting the call and acting as a <i>man in the middle</i> - as <a href="https://en.wikipedia.org/wiki/Stingray_phone_tracker">stingray type devices</a> try to do - the short authentication string can be read out and verbally confirmed between the callers. If it's the same then you can be pretty confident that the call is secure.
</p>
</div>
</div>
<div id="outline-container-orgheadline35" class="outline-4">
<h4 id="orgheadline35">Using with CSIPSimple</h4>
<div class="outline-text-4" id="text-orgheadline35">
<p>
Add an account. Under <b>General Wizards</b> choose <b>Expert</b> and enter the following details:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Account name</td>
<td class="org-left">Your username</td>
</tr>

<tr>
<td class="org-left">Account ID</td>
<td class="org-left">sip:username@yourdomain</td>
</tr>

<tr>
<td class="org-left">Registration URI</td>
<td class="org-left">sip:yourdefaultdomain</td>
</tr>

<tr>
<td class="org-left">Realm</td>
<td class="org-left">*</td>
</tr>

<tr>
<td class="org-left">Username</td>
<td class="org-left">Your username</td>
</tr>

<tr>
<td class="org-left">Data (Password)</td>
<td class="org-left">Your SIP password</td>
</tr>

<tr>
<td class="org-left">ZRTP Mode</td>
<td class="org-left">Create ZRTP</td>
</tr>
</tbody>
</table>

<p>
If everything is working the account should appear in green with a status of <b>Registered</b>.
</p>
</div>
</div>
<div id="outline-container-orgheadline36" class="outline-4">
<h4 id="orgheadline36">Using with Ring</h4>
<div class="outline-text-4" id="text-orgheadline36">
<p>
From the menu select <b>Manage accounts</b>.
</p>

<p>
Add an account with the following details:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Alias</td>
<td class="org-left">Your full name or nickname</td>
</tr>

<tr>
<td class="org-left">Protocol</td>
<td class="org-left">SIP</td>
</tr>

<tr>
<td class="org-left">Hostname</td>
<td class="org-left">yourdefaultdomain</td>
</tr>

<tr>
<td class="org-left">Username</td>
<td class="org-left">Your username</td>
</tr>

<tr>
<td class="org-left">Password</td>
<td class="org-left">Your SIP password</td>
</tr>
</tbody>
</table>

<p>
Select the <b>Security</b> tab. Under <b>SRTP Key Exchange</b> select <b>ZRTP</b>. Unde <b>SRTP Preferences</b> select <b>Not supported warning</b> and <b>Display SAS Once</b>.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline9" class="outline-2">
<h2 id="orgheadline9">RSS Reader</h2>
<div class="outline-text-2" id="text-orgheadline9">
<p>
The way that RSS reading is set up on Freedombone gives you strong reading privacy. Not only is there onion routing between you and the server but also between the server and the source of the RSS feed. The only down side is that many RSS feeds are still http only, and so could be vulnerable to injection attacks, but it's expected that more of this will go to https in the foreseeable future due to a combination of growing recognition of security issues and systems like Let's Encrypt which make obtaining certificates much easier.
</p>

<p>
See the control panel for the RSS reader onion address.
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domainname -p 2222
sudo control
</pre>
</div>

<p>
Then select the <b>About</b> screen.
</p>

<p>
The RSS reader is accessible only via an onion address. This provides a reasonable degree of reading privacy, making it difficult for passive adversaries such as governments, corporations or criminals to create lists of sites which you are subscribed to.
</p>

<p>
To set up the system open <a href="http://rss_reader_onion_address/">http://rss_reader_onion_address/</a> and log in with username <b>admin</b> and the password obtained either at the beginning of the install or from the README file in your home directory. You can then select the <b>Actions</b> menu and begin adding your feeds.
</p>

<p>
To access the RSS reader from a mobile device you can install a Tor compatible browser such as <a href="https://f-droid.org/wiki/page/info.guardianproject.orfox">OrFox</a>. It will try to automatically change to the mobile version of the user interface. Remember to add the site to the NoScript whitelist, and you may also need to turn HTTPS Everywhere off.
</p>

<blockquote>
<p>
A note for the paranoid is that on mobile devices you get redirected to a different onion address which is specially set up for the mobile interface, so don't be alarmed that it looks like your connection is being hijacked.
</p>
</blockquote>
</div>
</div>
<div id="outline-container-orgheadline10" class="outline-2">
<h2 id="orgheadline10">Adding or removing users</h2>
<div class="outline-text-2" id="text-orgheadline10">
<p>
Log into the system with:
</p>

<div class="org-src-container">

<pre class="src src-bash">ssh username@domainname -p 2222
</pre>
</div>

<p>
Select <b>Administrator controls</b> then <b>User Management</b>. Depending upon the type of installation after selecting administrator controls you might need to enter:
</p>

<div class="org-src-container">

<pre class="src src-bash">sudo su
control
</pre>
</div>

<center>
Return to the <a href="index.html">home page</a>
</center>
</div>
</div>
</div>
<div id="postamble" class="status">

<style type="text/css">
.back-to-top {
    position: fixed;
    bottom: 2em;
    right: 0px;
    text-decoration: none;
    color: #000000;
    background-color: rgba(235, 235, 235, 0.80);
    font-size: 12px;
    padding: 1em;
    display: none;
}

.back-to-top:hover {
    background-color: rgba(135, 135, 135, 0.50);
}
</style>

<div class="back-to-top">
<a href="#top">Back to top</a> | <a href="mailto:bob@robotics.uk.to">E-mail me</a>
</div>

<script type="text/javascript">
    var offset = 220;
    var duration = 500;
    jQuery(window).scroll(function() {
        if (jQuery(this).scrollTop() > offset) {
            jQuery('.back-to-top').fadeIn(duration);
        } else {
            jQuery('.back-to-top').fadeOut(duration);
        }
    });
</script>
</div>
</body>
</html>
